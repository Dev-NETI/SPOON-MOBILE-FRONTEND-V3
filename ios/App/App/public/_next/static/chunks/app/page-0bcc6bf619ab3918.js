(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{843:function(t,e,s){Promise.resolve().then(s.bind(s,1613))},1613:function(t,e,s){"use strict";var a=s(7437),n=s(7138),r=s(349);e.default=()=>{let{user:t}=(0,r.a)({middleware:"guest"});return(0,a.jsx)("div",{className:"hidden fixed top-0 right-0 px-6 py-4 sm:block",children:t?(0,a.jsx)(n.default,{href:"/dashboard",className:"ml-4 text-sm text-gray-700 underline",children:"Dashboard"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.default,{href:"/login",className:"text-sm text-gray-700 underline",children:"Login"}),(0,a.jsx)(n.default,{href:"/register",className:"ml-4 text-sm text-gray-700 underline",children:"Register"})]})})}},349:function(t,e,s){"use strict";s.d(e,{a:function(){return o}});var a=s(1986),n=s(7228),r=s(2265),i=s(6463);let o=function(){let{middleware:t,redirectIfAuthenticated:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,i.useRouter)(),o=(0,i.useParams)(),{data:l,error:u,mutate:c}=(0,a.ZP)("/api/user",()=>n.Z.get("/api/user").then(t=>t.data).catch(t=>{if(409!==t.response.status)throw t;s.push("/verify-email")})),h=()=>n.Z.get("/sanctum/csrf-cookie"),d=async t=>{let{setErrors:e,...s}=t;await h(),e([]),n.Z.post("/register",s).then(()=>c()).catch(t=>{if(422!==t.response.status)throw t;e(t.response.data.errors)})},f=async t=>{let{setErrors:e,setStatus:s,...a}=t;await h(),e([]),s(null),n.Z.post("/login",a).then(()=>c()).catch(t=>{if(422!==t.response.status)throw t;e(t.response.data.errors)})},p=async t=>{let{setErrors:e,setStatus:s,email:a}=t;await h(),e([]),s(null),n.Z.post("/forgot-password",{email:a}).then(t=>s(t.data.status)).catch(t=>{if(422!==t.response.status)throw t;e(t.response.data.errors)})},m=async t=>{let{setErrors:e,setStatus:a,...r}=t;await h(),e([]),a(null),n.Z.post("/reset-password",{token:o.token,...r}).then(t=>s.push("/login?reset="+btoa(t.data.status))).catch(t=>{if(422!==t.response.status)throw t;e(t.response.data.errors)})},w=async()=>{u||await n.Z.post("/logout").then(()=>c()),window.location.pathname="/login"};return(0,r.useEffect)(()=>{"guest"===t&&e&&l&&s.push(e),"/verify-email"===window.location.pathname&&(null==l?void 0:l.email_verified_at)&&s.push(e),"auth"===t&&u&&w()},[l,u]),{user:l,register:d,login:f,forgotPassword:p,resetPassword:m,resendEmailVerification:t=>{let{setStatus:e}=t;n.Z.post("/email/verification-notification").then(t=>e(t.data.status))},logout:w}}},7228:function(t,e,s){"use strict";var a=s(3360);let n=s.n(a)().create({baseURL:"http://localhost:8000",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});e.Z=n}},function(t){t.O(0,[936,986,138,971,23,744],function(){return t(t.s=843)}),_N_E=t.O()}]);